{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/canvas.js","webpack:///./src/graph.js","webpack:///./src/map.js","webpack:///./src/mathutils.js","webpack:///./src/solver.js"],"names":["Solver","require","Map","Graph","reset","document","getElementById","score","customSolution","houses","solutionToUse","canvas","querySelector","width","innerWidth","height","innerHeight","solutions","greedySolve","splitSolve","stupidSolve","useCustomSolution","map","graph","activeSolution","activeSolutionName","frame","init","isValidSolution","solution","sortedSolution","Float32Array","sort","length","console","error","i","setSolution","animate","requestAnimationFrame","undefined","moveSnowPlow","clear","draw","value","Math","round","changeSolution","solutionId","s","JSON","parse","onclick","oninput","setCustomHouses","from","stringify","Array","onchange","options","selectedIndex","solutionsKey","opt","createElement","text","add","_canvas","_ctx","getContext","_width","_height","_map","_snowPlowSize","step","max","min","lastIndex","snowplotAtX","getHouseBetween","fillStyle","fillRect","avgTime","cleaned","j","lastClean","time","snowPlowX","rect","fill","module","exports","MathUtils","size","_size","_houses","_lastClean","_snowPlowX","_min","_max","_time","_score","initHouses","initLastClean","gaussianRandom","x","prevSnowPlowX","nbCleanAtPos","abs","log","startIndex","maxValue","results","push","mean","stdev","y1","y2","x1","x2","w","random","sqrt","steps","arr","begin","end","fillInterval","list","newList","snowplowPos","closestPos","closestIndex","splice"],"mappings":"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","file":"./js/canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/canvas.js\");\n","const Solver = require(\"./solver\");\nconst Map = require('./map.js');\nconst Graph = require('./graph.js');\n\nconst reset = document.getElementById('reset');\nconst score = document.getElementById('score');\nconst customSolution = document.getElementById('customsolution');\nconst houses = document.getElementById('houses');\nconst solutionToUse = document.getElementById('solutionId');\nconst canvas = document.querySelector('canvas');\ncanvas.width = innerWidth;\ncanvas.height = innerHeight;\n\nconst solutions = {\n    \"greedy\": Solver.greedySolve,\n    \"split\": Solver.splitSolve,\n    \"stupid\": Solver.stupidSolve,\n    \"custom\": useCustomSolution,\n};\nlet map = new Map(1000);\nlet graph = new Graph(canvas, map);\nlet activeSolution;\nlet activeSolutionName;\nlet frame;\n\nfunction init() {\n    map.reset();\n    frame = 0;\n}\n\nfunction isValidSolution(solution) {\n    const sortedSolution = new Float32Array(solution).sort();\n    if (solution.length !== map.houses.length) {\n        console.error(\"Solution cleans too few / much houses! Expected \" + map.houses.length + \" houses but got \" + solution.length);\n        return false;\n    }\n    for (let i = 0; i < solution.length; ++i) {\n        if (map.houses[i] !== sortedSolution[i]) {\n            console.error(\"Solution does not clean house at \" + map.houses[i]);\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction setSolution(solution) {\n    if (isValidSolution(solution)) {\n        activeSolution = solution;\n    }\n}\n\nfunction animate() {\n    requestAnimationFrame(animate);\n    if (activeSolution === undefined || activeSolution === null) {\n        return;\n    }\n    map.moveSnowPlow(activeSolution[frame]);\n    graph.clear();\n    graph.draw();\n    if (frame < activeSolution.length) {\n        ++frame;\n    }\n    score.value = Math.round(map.score);\n\n}\n\nfunction changeSolution(solutionId) {\n    let s = solutions[solutionId](map);\n    if (isValidSolution(s)) {\n        activeSolution = s;\n        activeSolutionName = solutionId;\n        init();\n    }\n}\n\nfunction useCustomSolution(map) {\n    setSolution(JSON.parse(customSolution.value));\n}\n\nreset.onclick = function() {init();};\ncustomSolution.oninput = function() {if (activeSolutionName === 'custom') {useCustomSolution(); init()}};\nhouses.oninput = function() {map.setCustomHouses(Float32Array.from(JSON.parse(houses.value))); init()};\nhouses.value = JSON.stringify(Array.from(map.houses));\nsolutionToUse.onchange = function() {changeSolution(solutionToUse.options[solutionToUse.selectedIndex].value)};\n\nfor (let solutionsKey in solutions) {\n    let opt = document.createElement(\"option\");\n    opt.value = solutionsKey;\n    opt.text = solutionsKey;\n    solutionToUse.add(opt);\n}\n\nsolutionToUse.value = 'greedy';\nsolutionToUse.onchange(null);\n\ninit();\nanimate();\n","class Graph {\n\n  constructor(canvas, map) {\n    this._canvas = canvas;\n    this._ctx = canvas.getContext(\"2d\");\n    this._width = canvas.width;\n    this._width = 300;\n    this._height = canvas.height;\n    this._map = map;\n    this._snowPlowSize = 10;\n  }\n\n  draw() {\n    const step = (this._map.max - this._map.min) / this._width;\n    let max = this._map.min;\n    let lastIndex = 0;\n    let snowplotAtX = -1;\n    for (let i = 0; i < this._width; ++i) {\n      max += step;\n      const houses = this._map.getHouseBetween(lastIndex, max);\n      this._ctx.fillStyle = \"rgba(120,120,120,0.62)\";\n      this._ctx.fillRect(i, this._height / 2, 1, -(houses.length * 10 + 1));\n      let avgTime = 0;\n      let cleaned = false;\n      for (let j = 0; j < houses.length; ++j) {\n        let lastClean = this._map.lastClean[houses[j]];\n        if (lastClean === 0) {\n          lastClean = this._map.time;\n        } else {\n          cleaned = true;\n        }\n        avgTime += lastClean;\n      }\n      //avgTime /= houses.length;\n      avgTime /= 500;\n      if (avgTime > 200) {\n        avgTime = 200;\n        if (cleaned) {\n          this._ctx.fillStyle = \"#347daf\";\n        } else {\n          this._ctx.fillStyle = \"#970000\";\n        }\n      } else {\n        if (cleaned) {\n          this._ctx.fillStyle = \"#48c3ff\";\n        } else {\n          this._ctx.fillStyle = \"#FF0000\";\n        }\n      }\n\n      this._ctx.fillRect(i, this._height / 2, 1, avgTime);\n      if (houses.length > 0) {\n        lastIndex = houses[houses.length - 1] + 1;\n      }\n      if (snowplotAtX < 0 && this._map.houses[lastIndex] >= this._map.snowPlowX && this._map.snowPlowX <= max) {\n        snowplotAtX = i;\n      }\n    }\n    if (snowplotAtX >= 0) {\n      this._ctx.fillStyle = \"rgb(0,255,11)\";\n      this._ctx.fillRect(snowplotAtX - this._snowPlowSize, this._height / 2 - this._snowPlowSize, 20, 20);\n    }\n  }\n\n  clear() {\n    this._ctx.rect(0 - this._snowPlowSize, 0, this._width + this._snowPlowSize, this._height);\n    this._ctx.fillStyle = 'rgb(255, 255, 255)';\n    this._ctx.fill();\n  }\n}\n\nmodule.exports = Graph;\n\n","const MathUtils = require('./mathutils.js');\n\nclass Map {\n    constructor(size) {\n        this._size = size;\n        this._houses = new Float32Array(size);\n        this._lastClean = new Array(size);\n        this._snowPlowX = 0;\n        this._min = 0;\n        this._max = 0;\n        this._time = 0;\n        this._score = 0;\n        this.initHouses();\n        this.initLastClean();\n    }\n\n    reset() {\n        this._snowPlowX = 0;\n        this._time = 0;\n        this._score = 0;\n        this.initLastClean();\n    }\n\n    setCustomHouses(houses) {\n        this._size = houses.length;\n        this._houses = houses.sort();\n        this._min = houses[0];\n        this._max = houses[houses.length - 1];\n        this.reset();\n    }\n\n    initHouses() {\n        for (let i = 0; i < this._size; ++i) {\n            this._houses[i] = MathUtils.gaussianRandom(0, 1000);\n            if (this._houses[i] > this._max || i === 0) {\n                this._max = this._houses[i];\n            }\n            if (this._houses[i] < this._min || i === 0) {\n                this._min = this._houses[i];\n            }\n        }\n        this._houses.sort();\n    }\n\n    initLastClean() {\n        for (let i = 0; i < this._size; ++i) {\n            this._lastClean[i] = 0;\n        }\n    }\n\n    moveSnowPlow(x) {\n        const prevSnowPlowX = this._snowPlowX;\n        let nbCleanAtPos = 0;\n        this._snowPlowX = x;\n        for (let i = 0; i < this._size && this._houses[i] <= x; ++i) {\n            if (this.houses[i] === x) {\n                this._time += Math.abs(prevSnowPlowX - this.snowPlowX);\n                if (this.lastClean[i] === 0) {\n                    if (nbCleanAtPos === 0) {\n                        this._score += this._time;\n                    } else {\n                        console.log(\"multiple houses (\" + nbCleanAtPos + \") at \" + x);\n                    }\n                    this.lastClean[i] = this._time;\n                }\n                ++nbCleanAtPos;\n            }\n        }\n    }\n\n    getHouseBetween(startIndex, maxValue) {\n        let results = [];\n        for (let i = startIndex; i < this._size && this._houses[i] <= maxValue; ++i) {\n            results.push(i);\n        }\n        return results;\n    }\n\n    get lastClean() {\n        return this._lastClean;\n    }\n\n    get min() {\n        return this._min;\n    }\n\n    get max() {\n        return this._max;\n    }\n\n    get time() {\n        return this._time;\n    }\n\n    get size() {\n        return this._size;\n    }\n\n    get snowPlowX() {\n        return this._snowPlowX;\n    }\n\n    get score() {\n        return this._score;\n    }\n\n    get houses() {\n        return this._houses;\n    }\n}\n\nmodule.exports = Map;\n\n","class MathUtils {\n    static gaussianRandom(mean, stdev) {\n        let y1;\n        let y2;\n        let x1;\n        let x2;\n        let w;\n\n        do {\n            x1 = 2.0 * Math.random() - 1.0;\n            x2 = 2.0 * Math.random() - 1.0;\n            w = x1 * x1 + x2 * x2;\n        } while (w >= 1.0);\n        w = Math.sqrt((-2.0 * Math.log(w)) / w);\n        y1 = x1 * w;\n        y2 = x2 * w;\n\n        return mean + stdev * y1;\n    }\n}\n\nmodule.exports = MathUtils;\n","class Solver {\n    static stupidSolve(map) {\n        const houses = map.houses;\n        let steps = [];\n        for (let i = 0; i < houses.length; ++i) {\n            steps.push(houses[i]);\n        }\n        return steps;\n    }\n\n    static fillInterval(arr, houses, begin, end) {\n        if (begin > end) {\n            for (let i = begin; i >= end; --i) {\n                arr.push(houses[i]);\n            }\n        } else {\n            for (let i = begin; i <= end; ++i) {\n                arr.push(houses[i]);\n            }\n        }\n    }\n\n    static splitSolve(map) {\n        const houses = map.houses;\n        let steps = [];\n        // todo make it not hard coded\n        Solver.fillInterval(steps, houses,500, 700);\n        Solver.fillInterval(steps,houses,499, 300);\n        Solver.fillInterval(steps,houses, 701, 800);\n        Solver.fillInterval(steps,houses, 299, 100);\n        Solver.fillInterval(steps,houses, 801, 999);\n        Solver.fillInterval(steps,houses,99, 0);\n        return steps;\n    }\n\n    static greedySolve(map) {\n        const list = Array.from(map.houses);\n        let newList = [];\n        let snowplowPos = 0;\n        let closestPos = list[0];\n        let closestIndex = 0;\n\n        while (list.length > 0) {\n            closestPos = list[0];\n            closestIndex = 0;\n            for (let i = 0; i< list.length; ++i) {\n                if (Math.abs(closestPos - snowplowPos) > Math.abs(list[i] - snowplowPos)) {\n                    closestPos = list[i];\n                    closestIndex = i;\n                }\n                ++i;\n            }\n            snowplowPos = closestPos;\n            newList.push(list[closestIndex]);\n            list.splice(closestIndex, 1);\n        }\n        return (newList)\n    }\n}\n\nmodule.exports = Solver;\n"],"sourceRoot":""}